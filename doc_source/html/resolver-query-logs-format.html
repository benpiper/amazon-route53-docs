<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>resolver-query-logs-format</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<h1 id="values-that-appear-in-resolver-query-logs">Values that appear in Resolver query logs<a name="resolver-query-logs-format"></a></h1>
<p>Each log file contains one log entry for each DNS query that Amazon Route 53 received from DNS resolvers in the corresponding edge location. Each log entry includes the following values:</p>
<p><strong>version</strong><br />
The version number of the query log format. The current version is <code>1.1</code>.<br />
The version value is a major and minor version in the form <strong>major_version.minor_version</strong>. For example, you can have a <code>version</code> value of <code>1.7</code>, where <code>1</code>is the major version, and <code>7</code> is the minor version.<br />
Route 53 increments the major version if a change is made to the log structure that is not backward-compatible. This includes removing a JSON field that already exists, or changing how the contents of a field are represented (for example, a date format).<br />
Route 53 increments the minor version if a change adds new fields to the log file. This can occur if new information is available for some or all existing DNS queries within a VPC.</p>
<p><strong>account_id</strong><br />
The ID of the AWS account that created the VPC.</p>
<p><strong>region</strong><br />
The AWS Region that you created the VPC in.</p>
<p><strong>vpc_id</strong><br />
The ID of the VPC that the query originated in.</p>
<p><strong>query_timestamp</strong><br />
The date and time that the query was submitted, in ISO 8601 format and Coordinated Universal Time (UTC), for example, <code>2017-03-16T19:20:25.177Z</code>.<br />
For information about ISO 8601 format, see the Wikipedia article <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a>. For information about UTC, see the Wikipedia article <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time">Coordinated Universal Time</a>.</p>
<p><strong>query_name</strong><br />
The domain name (example.com) or subdomain name (www.example.com) that was specified in the query.</p>
<p><strong>query_type</strong><br />
Either the DNS record type that was specified in the request, or <code>ANY</code>. For information about the types that Route 53 supports, see <a href="ResourceRecordTypes.html">Supported DNS record types</a>.</p>
<p><strong>query_class</strong><br />
The class of the query.</p>
<p><strong>rcode</strong><br />
The DNS response code that Resolver returned in response to the DNS query. The response code indicates whether the query was valid or not. The most common response code is <code>NOERROR</code>, meaning that the query was valid. If the response is not valid, Resolver returns a response code that explains why not. For a list of possible response codes, see <a href="https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml#dns-parameters-6">DNS RCODEs</a> on the IANA website.</p>
<p><strong>answer_type</strong><br />
The DNS record type (such as A, MX, or CNAME) of the value that Resolver is returning in response to the query. For information about the types that Route 53 supports, see <a href="ResourceRecordTypes.html">Supported DNS record types</a>.</p>
<p><strong>rdata</strong><br />
The value that Resolver returned in response to the query. For example, for an A record, this is an IP address in IPv4 format. For a CNAME record, this is the domain name in the CNAME record.</p>
<p><strong>answer_class</strong><br />
The class of the Resolver response to the query.</p>
<p><strong>srcaddr</strong><br />
The IP address of the instance that the query originated from.</p>
<p><strong>srcport</strong><br />
The port on the instance that the query originated from.</p>
<p><strong>transport</strong><br />
The protocol used to submit the DNS query.</p>
<p><strong>srcids</strong><br />
IDs of the <code>instance</code>, <code>resolver_endpoint</code>, and the <code>resolver_network_interface</code> that the DNS query originated from or passed through.</p>
<p><strong>instance</strong><br />
The ID of the instance that the query originated from.</p>
<p><strong>resolver_endpoint</strong><br />
The ID of the resolver endpoint that passes the DNS query to on-premises DNS servers.</p>
<p><strong>firewall_rule_group_id</strong><br />
The ID of the DNS Firewall rule group that matched the domain name in the query. This is populated only if DNS Firewall found a match for a rule with action set to alert or block.<br />
For more information about the firewall rule groups, see <a href="resolver-dns-firewall-rule-groups.html">DNS Firewall rule groups and rules</a>.</p>
<p><strong>firewall_rule_action</strong><br />
The action specified by the rule that matched the domain name in the query. This is populated only if DNS Firewall found a match for a rule with action set to alert or block.</p>
<p><strong>firewall_domain_list_id</strong><br />
The domain list used by the rule that matched the domain name in the query. This is populated only if DNS Firewall found a match for a rule with action set to alert or block.</p>
</body>
</html>
